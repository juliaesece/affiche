<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AdC affiche</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="script.js"></script>
</head>
<body>
  <div id="affiche-wrapper">
    <img id="img-background" src="./agenda-WE.png">
    <div id="jours-wrapper">
      <div id="jour1" class="jour">
          <h1 id="samedi" style="">Samedi</h1>
          <div id="evenementsDeSam">

              <!-- TEST -->

              <!-- <div id="evenement1" class="evenement">
              <h2 id="titre1" class="titre-d-evenement"> Titre </h2>
              <p class="horaire"> <img src="./clock.png" class="iconito"> <span id="horaire1"> Horaire </span></p>
              <p class="salle"><img src="./location.png" class="iconito"> <span id="salle1"> Salle </span></p>
              <p class="description">12h : rencontre à la Buvette (RdC), 14h : ateliers, studio photo, et plus, 16h30 : cours de danse collective, 17h : départ du défilé (depuis la place Baudoyer) direction les Amarres, où il y aura un défilé, un concert, et des surprises !</p>
              </div>
               -->
            <div id="evenement11" class="noDes evenement">            <h2 id="titre11" class="titre-d-evenement"> Lala </h2>            <p class="horaire"><img src="./clock.png" class="iconito"> <span id="horaire11"> 11h </span></p>            <p class="salle"><img src="./location.png" class="iconito"> <span id="salle11"> Lala </span></p>          </div><div id="evenement10" class="noDes evenement">            <h2 id="titre10" class="titre-d-evenement"> lolo </h2>            <p class="horaire"><img src="./clock.png" class="iconito"> <span id="horaire10"> 15h </span></p>            <p class="salle"><img src="./location.png" class="iconito"> <span id="salle10"> pepiniere </span></p>          </div></div>
        </div>


      <div id="jour2" class="jour">
          <h1 id="dimanche" style="display: none;">Dimanche</h1>
          <div id="evenementsDeDim">
          </div>
      </div>

      <div id="jour3" class="jour">
          <h1 id="toutLeWE" style="display: none;">Tout le Week-end</h1>
          <div id="evenementsDeWE">
          </div>
      </div>
      </div>
    </div>
    <button id="downloadAffiche" class="btn btn-light" style="position: absolute; left: 300mm;">Download</button>

    <script>


    window.onload = function () {
      document.getElementById("downloadAffiche")
          .addEventListener("click", () => {
              const affiche = this.document.getElementById("affiche-wrapper");
              console.log(affiche);
            //  console.log(window);
                var opt = {
                    margin: 0,
                    filename: 'affiche.pdf',
                    image: { type: 'jpeg', quality: 0.98 }
                    // html2canvas: { scale: 2 },
                    // jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait'
                  }
                html2pdf().from(affiche).set(opt).save();
            });
  }

  </script>
  </body>
  </html>
